<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title th:text="'Search results | ' + #{app.name}"></title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="stylesheet" href="../static/fonts/style.css" th:href="@{/fonts/style.css}" />
    <link rel="stylesheet" href="../static/css/style.css" th:href="@{/css/style.css}" />
  </head>
  <body>

    <header th:include="commons/header.html">
      <!--#include virtual="commons/header.html" -->
    </header>

    <div class="container">

      <section class="side">
        <section>
          <h2><span class="icon icon-search"></span> Search</h2>
          <form action="books-list.html" method="get"
                th:action="@{/books}">
            <input id="query" type="text" name="q" th:value="${q}" />
          </form>
        </section>

        <hr />
      </section>

      <section class="contents">
        <p sec:authorize="hasAnyRole('ROLE_USER', 'ROLE_ADMIN')">
          <a href="book-new.html" th:href="@{/books/new}" class="btn" style="text-align: left"><span class="icon icon-plus"></span> Add a new book</a>
          <button class="btn btn-warning delete-btn" style="float: right;" onclick="alert('Not implemented'); return false;"><span class="icon icon-remove"></span> Delete selections</button>
        </p>

        <table>
          <thead>
            <tr>
              <th></th>
              <th>Title</th>
              <th>Author</th>
              <th>Publisher</th>
              <th>Status</th>
              <th></th>
            </tr>
          </thead>
          <tbody th:remove="all-but-first">
            <tr th:each="book, itr : ${books}">
              <td><input type="checkbox" /></td>
              <td><a href="details" th:href="'books/' + ${book.id}"><span th:remove="tag" th:text="${book.title}">The title</span></a></td>
              <td th:text="${book.author}">The author</td>
              <td th:text="${book.publisher}">The publisher</td>
              <td style="text-align: center"><span class="label label-disabled">on loan</span></td>
            </tr>
          </tbody>
        </table>
      </section>

    </div>

    <footer th:include="commons/footer.html">
      <!--#include virtual="commons/footer.html" -->
    </footer>

    <script src="../static/vendor/jquery/jquery.js" th:src="@{/vendor/jquery/jquery.js}"></script>
    <script src="../static/js/main.js" th:src="@{/js/ui.js}"></script>
    <script src="../static/js/main.js" th:src="@{/js/books-list.js}"></script>
  </body>
</html>
